<html>
<meta charset="utf-8"/>
 <head>
	<title>Home page</title>
	<link href="style.css" rel="stylesheet" />
	<script>
		var i = 1;
		var counter;

		function loadValues(){
		  console.log("Test");
		  var xh = new XMLHttpRequest();
		  xh.onreadystatechange = function(){
			if (xh.readyState == 4){
			  if(xh.status == 200) {
				var res = JSON.parse(xh.responseText);
				counter = (res.counter);
				document.getElementById("all").innerHTML = counter.toString();

				//if(running) setTimeout(loadValues, reloadPeriod);
			  } //else running = false;
			}
		  };
		  xh.open("GET", "/all", true);
		  xh.send(null);
		};
		
		function loadIncrement(){
		  console.log("Testing  increment");
		  var xh = new XMLHttpRequest();
		  xh.onreadystatechange = function(){
			if (xh.readyState == 4){
			  if(xh.status == 200) {
				//var res = JSON.parse(xh.responseText);
				//counter = (res.counter);
				document.getElementById("increment").innerHTML = xh.responseText;
				console.log("increment " + xh.responseText);
				//if(running) setTimeout(loadValues, reloadPeriod);
			  } //else running = false;
			}
		  };
		  xh.open("GET", "/increment", true);
		  xh.send(null);
		};
			
		function onBodyLoad(){
		//loadValues();
		loadIncrement();
		setInterval(loadIncrement, 10000);	
	 
		//document.getElementById("demo").innerHTML = counter.toString();
		}
	
	</script>
 </head>
 <body onload="onBodyLoad();">
	<H1> Hello ESP8266</H1>
	<p id="someid">With ESP8266 microcontroller we can make many things like the web server that contain this pages in it. </p>
	<h1> Flash File Sytem</h1>
	<p class="someclass"> To see the another page click the link. <a href="page2.htm">Here</a> </p>
	<br>
	<p id="increment"></p>
 </body>
</html>